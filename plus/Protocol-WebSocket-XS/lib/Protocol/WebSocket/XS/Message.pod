=head1 NAME

Protocol::WebSocket::XS::Message - WebSocket Message class

=cut

=head1 DESCRIPTION

The class represents a message received via WebSocket protocol.

You cannot instantiate an object of the class direcly, it can be accessed
via L<Protocol::WebSocket::XS::MessageIterator> or
L<Protocol::WebSocket::XS::Parser>.

You cannot modify Message object, all provided methods are read only.

=head1 METHODS

=head2 error()

Returns error occured during frame parsing or Message construction (string);
returns C<undef> otherwise.

=head2 opcode()

See L<Protocol::WebSocket::XS>.

=head2 is_control()

=head2 payload_length()

Returns unpacked payload size, i.e. if payload was compressed, it will return size of
uncompressed payload.

=head2 payload()

Returns payload as string

=head2 close_code()

See L<Protocol::WebSocket::XS>.

=head2 close_message()

Returns close message as string

=head2 frame_count()

=head1 SEE ALSO

L<rfc6455|https://tools.ietf.org/html/rfc6455>

L<Protocol::WebSocket::XS>

L<Protocol::WebSocket::XS::Frame>

L<Protocol::WebSocket::XS::MessageIterator>

L<Protocol::WebSocket::XS::Parser>

=head1 AUTHOR

Pronin Oleg <syber@cpan.org>, Crazy Panda LTD

Ivan Baidakou <i.baydakov@dev.crazypanda.ru>, Crazy Panda LTD

=head1 LICENSE

You may distribute this code under the same terms as Perl itself.

=cut
